import pytest
import requests_mock
from unittest.mock import MagicMock
from bs4 import BeautifulSoup
from cqscraper.lister import (
    Lister,
    IPageFetcher,
    IPageParser,
    ILinkExtractor,
    PageFetcher,
    PageParser,
    LinkExtractor,
)


class MockPageFetcher(IPageFetcher):
    def fetch_page(self, url: str) -> str:
        if "page=1" in url:
            return """
            <html>
                <body>
                <main id="main" class="site-main" role="main"><header class="woocommerce-products-header"><h1 class="woocommerce-products-header__title page-title">Monounsaturated FA</h1></header><div class="woocommerce-notices-wrapper"></div><div class="loop-product-table-toolbar"><p class="woocommerce-result-count">Showing 1–50 of 58 results</p><form class="woocommerce-ordering" method="get"><select name="orderby" class="orderby" aria-label="Shop order"><option value="sku_sort" selected="selected">Sort by product number</option><option value="name">Sort by product name</option></select><input type="hidden" name="paged" value="1"></form></div><table class="loop-product-table columns-1"> <thead> <tr> <th>Products</th> <th>Product ID</th> <th>CAS No</th> <th></th> </tr> </thead><tbody><tr class="product type-product post-85264 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/2e-decenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">2(E)-Decenoic acid</h2></a></td><td class="loop-product-sku">10-1001</td><td class="loop-product-cas">334-49-6</td><td class="loop-product-button"><a href="https://www.larodan.com/product/2e-decenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85264" data-product_sku="10-1001" aria-label="Select options for “2(E)-Decenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85266 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/4z-decenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">4(Z)-Decenoic acid</h2></a></td><td class="loop-product-sku">10-1004</td><td class="loop-product-cas">505-90-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/4z-decenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85266" data-product_sku="10-1004" aria-label="Select options for “4(Z)-Decenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85267 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9-decenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9-Decenoic acid</h2></a></td><td class="loop-product-sku">10-1009</td><td class="loop-product-cas">14436-32-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9-decenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85267" data-product_sku="10-1009" aria-label="Select options for “9-Decenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85289 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10-undecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10-Undecenoic acid</h2></a></td><td class="loop-product-sku">10-1101</td><td class="loop-product-cas">112-38-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10-undecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85289" data-product_sku="10-1101" aria-label="Select options for “10-Undecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85291 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/11-dodecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">11-Dodecenoic acid</h2></a></td><td class="loop-product-sku">10-1201</td><td class="loop-product-cas">65423-25-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/11-dodecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85291" data-product_sku="10-1201" aria-label="Select options for “11-Dodecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85293 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/12-tridecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">12-Tridecenoic acid</h2></a></td><td class="loop-product-sku">10-1301</td><td class="loop-product-cas">6006-06-0</td><td class="loop-product-button"><a href="https://www.larodan.com/product/12-tridecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85293" data-product_sku="10-1301" aria-label="Select options for “12-Tridecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85295 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9z-tetradecanoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(Z)-Tetradecanoic acid</h2></a></td><td class="loop-product-sku">10-1401</td><td class="loop-product-cas">544-64-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9z-tetradecanoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85295" data-product_sku="10-1401" aria-label="Select options for “9(Z)-Tetradecanoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85296 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9e-tetradecanoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(E)-Tetradecanoic acid</h2></a></td><td class="loop-product-sku">10-1402</td><td class="loop-product-cas">50286-30-1</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9e-tetradecanoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85296" data-product_sku="10-1402" aria-label="Select options for “9(E)-Tetradecanoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85322 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10z-pentadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(Z)-Pentadecenoic acid</h2></a></td><td class="loop-product-sku">10-1501</td><td class="loop-product-cas">84743-29-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10z-pentadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85322" data-product_sku="10-1501" aria-label="Select options for “10(Z)-Pentadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85323 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10e-pentadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(E)-Pentadecenoic acid</h2></a></td><td class="loop-product-sku">10-1511</td><td class="loop-product-cas">321744-58-5</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10e-pentadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85323" data-product_sku="10-1511" aria-label="Select options for “10(E)-Pentadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85324 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/14-pentadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">14-Pentadecenoic acid</h2></a></td><td class="loop-product-sku">10-1514</td><td class="loop-product-cas">17351-34-7</td><td class="loop-product-button"><a href="https://www.larodan.com/product/14-pentadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85324" data-product_sku="10-1514" aria-label="Select options for “14-Pentadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85326 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9z-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(Z)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1601</td><td class="loop-product-cas">373-49-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9z-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85326" data-product_sku="10-1601" aria-label="Select options for “9(Z)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85327 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9e-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(E)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1602</td><td class="loop-product-cas">10030-73-6</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9e-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85327" data-product_sku="10-1602" aria-label="Select options for “9(E)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85351 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/6z-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">6(Z)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1606</td><td class="loop-product-cas">17004-51-2</td><td class="loop-product-button"><a href="https://www.larodan.com/product/6z-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85351" data-product_sku="10-1606" aria-label="Select options for “6(Z)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85352 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/7z-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">7(Z)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1607</td><td class="loop-product-cas">2416-19-5</td><td class="loop-product-button"><a href="https://www.larodan.com/product/7z-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85352" data-product_sku="10-1607" aria-label="Select options for “7(Z)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85353 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/2e-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">2(E)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1608</td><td class="loop-product-cas">929-79-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/2e-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85353" data-product_sku="10-1608" aria-label="Select options for “2(E)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85354 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/2z-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">2(Z)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1609</td><td class="loop-product-cas">2825-68-5</td><td class="loop-product-button"><a href="https://www.larodan.com/product/2z-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85354" data-product_sku="10-1609" aria-label="Select options for “2(Z)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85355 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/11z-hexadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">11(Z)-Hexadecenoic acid</h2></a></td><td class="loop-product-sku">10-1611</td><td class="loop-product-cas">2416-20-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/11z-hexadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85355" data-product_sku="10-1611" aria-label="Select options for “11(Z)-Hexadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85383 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10z-heptadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(Z)-Heptadecenoic acid</h2></a></td><td class="loop-product-sku">10-1701</td><td class="loop-product-cas">29743-97-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10z-heptadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85383" data-product_sku="10-1701" aria-label="Select options for “10(Z)-Heptadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85384 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10e-heptadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(E)-Heptadecenoic acid</h2></a></td><td class="loop-product-sku">10-1702</td><td class="loop-product-cas">126761-43-1</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10e-heptadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85384" data-product_sku="10-1702" aria-label="Select options for “10(E)-Heptadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85386 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9z-heptadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(Z)-Heptadecenoic acid</h2></a></td><td class="loop-product-sku">10-1709</td><td class="loop-product-cas">1981-50-6</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9z-heptadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85386" data-product_sku="10-1709" aria-label="Select options for “9(Z)-Heptadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85409 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(Z)-Octadecenoic acid</h2> <div class="list-bioz-rating" id="w-s-13560-10-1801" style="width:240px;height:58px;position:relative;overflow-y:hidden"><div class="bioz-w-container bioz-w-parent-hover"><table id="t-s-10-1801"><tbody><tr id="x-h-10-1801" class="bioz-w-header" style="color:#184996"><td style="padding-left:2px;background-color: transparent;text-align: left;border:0;vertical-align: top"><table style="border-spacing: 0"><tbody><tr><td style="background-color: transparent;text-align: left;border:0" class="bioz-w-tooltipx tooltipstered" data-tooltip-content="#tooltip-content-10-1801-2-s"><div style="margin: 2px 3px 2px 8px;" class="bioz-w-star-icon-flat-micro"></div></td><td style="background-color: transparent;text-align: left;border:0;padding-top:3px" class="bioz-w-tooltipx tooltipstered" data-tooltip-content="#tooltip-content-10-1801-2-s" '=""><span class="bioz-w-detail-ex-large" style="display:inline;font-size:15px;color:#666;font-weight:600">94</span><span class="bioz-w-detail-ex-large" style="display:inline;color:#666;font-weight:400;font-size:15px">/100</span></td><td style="background-color: transparent;text-align: left;border:0;width:3px"></td><td style="background-color: transparent;text-align: left;width:14px"><div style="border-left:1px solid #184996;height:14px;"></div></td><td style="background-color: transparent;text-align: left;border:0;padding: 2px 13px 0 0;white-space: nowrap; font-size: 15px"><a id="bioz-w-product-page-link-10-1801" class="bioz-w-add-underline" style="font-weight: 600;color:#184996;cursor:pointer" hrefx="https://www.larodan.com/product/9z-octadecenoic-acid/">7 Citations</a></td></tr></tbody></table></td></tr></tbody></table></div><div id="bioz-w-curtain" style="display:none;position: absolute;left: 0;top: 0;width: 100%;height: 100%;background-color: white;opacity: 0.99;"></div><div style="display:none"><table id="tooltip-content-10-1801-2-s" style="width: 154px;font-size:11px;background:white"><tbody><tr><td colspan="2" style="white-space:nowrap"><b style="color:#666666">Bioz Stars Product Rating</b></td></tr><tr><td colspan="2" style="color:#666666;line-height:1.2;padding-top:3px;padding-bottom:3px">The world's only objective ratings for scientific research products</td></tr><tr><td class="rating-detail" style="font-size:11px;padding: 0;vertical-align:top;color:#999; white-space: nowrap; width: 50px">Mentions&nbsp;</td><td style="padding: 1px 0; width: 50px"><div style="width:50px" class="progress progress-sm "><div class="progress-bar progress-bar-rating progress-bar-default " role="progressbar" aria-valuenow="31.10" aria-valuemin="0" aria-valuemax="100" style="width: 31.10%;height:100%"></div></div></td></tr><tr><td class="rating-detail" style="font-size:11px;padding: 0;vertical-align:top;color:#999; white-space: nowrap; width: 50px">Recency&nbsp;</td><td style="padding: 1px 0; width: 50px"><div style="width:50px" class="progress progress-sm "><div class="progress-bar progress-bar-rating progress-bar-default " role="progressbar" aria-valuenow="76.80" aria-valuemin="0" aria-valuemax="100" style="width: 76.80%;height:100%"></div></div></td></tr><tr><td colspan="2"><a style="color: #0063AF;text-decoration: none;cursor:pointer" href="https://www.larodan.com/product/9z-octadecenoic-acid/">View product page &gt;</a></td></tr><tr></tr></tbody></table></div></div> <script> $(document).ready(function() { var widget_micro_obj = new v_widget_obj("s", "2"); widget_micro_obj.request_catalog_number_widget_data_internal("10-1801", "10-1801"); }); </script> </a></td><td class="loop-product-sku">10-1801</td><td class="loop-product-cas">112-80-1</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85409" data-product_sku="10-1801" aria-label="Select options for “9(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85414 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/5z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">5(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1805</td><td class="loop-product-cas">676-29-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/5z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85414" data-product_sku="10-1805" aria-label="Select options for “5(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85415 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/2e-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">2(E)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1806</td><td class="loop-product-cas">2825-79-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/2e-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85415" data-product_sku="10-1806" aria-label="Select options for “2(E)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85416 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/7z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">7(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1807</td><td class="loop-product-cas">13126-31-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/7z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85416" data-product_sku="10-1807" aria-label="Select options for “7(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85440 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/6e-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">6(E)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1809</td><td class="loop-product-cas">593-40-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/6e-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85440" data-product_sku="10-1809" aria-label="Select options for “6(E)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85441 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9e-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(E)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1810</td><td class="loop-product-cas">112-79-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9e-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85441" data-product_sku="10-1810" aria-label="Select options for “9(E)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85442 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/6z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">6(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1811</td><td class="loop-product-cas">593-39-5</td><td class="loop-product-button"><a href="https://www.larodan.com/product/6z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85442" data-product_sku="10-1811" aria-label="Select options for “6(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85443 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/11z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">11(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1812</td><td class="loop-product-cas">506-17-2</td><td class="loop-product-button"><a href="https://www.larodan.com/product/11z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85443" data-product_sku="10-1812" aria-label="Select options for “11(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85444 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/11e-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">11(E)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1813</td><td class="loop-product-cas">693-72-1</td><td class="loop-product-button"><a href="https://www.larodan.com/product/11e-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85444" data-product_sku="10-1813" aria-label="Select options for “11(E)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85445 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/12z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">12(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1814</td><td class="loop-product-cas">13126-37-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/12z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85445" data-product_sku="10-1814" aria-label="Select options for “12(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85446 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/13z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">13(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1815</td><td class="loop-product-cas">13126-39-1</td><td class="loop-product-button"><a href="https://www.larodan.com/product/13z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85446" data-product_sku="10-1815" aria-label="Select options for “13(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85447 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/8z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">8(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1818</td><td class="loop-product-cas">5684-71-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/8z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85447" data-product_sku="10-1818" aria-label="Select options for “8(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85448 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10z-octadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(Z)-Octadecenoic acid</h2></a></td><td class="loop-product-sku">10-1819</td><td class="loop-product-cas">2442-70-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10z-octadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85448" data-product_sku="10-1819" aria-label="Select options for “10(Z)-Octadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85564 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9-octadecynoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9-Octadecynoic acid</h2></a></td><td class="loop-product-sku">10-1890</td><td class="loop-product-cas">506-24-1</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9-octadecynoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85564" data-product_sku="10-1890" aria-label="Select options for “9-Octadecynoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85591 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10z-nonadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(Z)-Nonadecenoic acid</h2></a></td><td class="loop-product-sku">10-1901</td><td class="loop-product-cas">73033-09-7</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10z-nonadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85591" data-product_sku="10-1901" aria-label="Select options for “10(Z)-Nonadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85595 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/7z-nonadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">7(Z)-Nonadecenoic acid</h2></a></td><td class="loop-product-sku">10-1907</td><td class="loop-product-cas">118020-79-4</td><td class="loop-product-button"><a href="https://www.larodan.com/product/7z-nonadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85595" data-product_sku="10-1907" aria-label="Select options for “7(Z)-Nonadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85596 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/7e-nonadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">7(E)-Nonadecenoic acid</h2></a></td><td class="loop-product-sku">10-1908</td><td class="loop-product-cas">191544-99-7</td><td class="loop-product-button"><a href="https://www.larodan.com/product/7e-nonadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85596" data-product_sku="10-1908" aria-label="Select options for “7(E)-Nonadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85597 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/10e-nonadecenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">10(E)-Nonadecenoic acid</h2></a></td><td class="loop-product-sku">10-1910</td><td class="loop-product-cas">147527-21-7</td><td class="loop-product-button"><a href="https://www.larodan.com/product/10e-nonadecenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85597" data-product_sku="10-1910" aria-label="Select options for “10(E)-Nonadecenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85600 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/11z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">11(Z)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2001</td><td class="loop-product-cas">5561-99-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/11z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85600" data-product_sku="10-2001" aria-label="Select options for “11(Z)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85627 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/8z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">8(Z)-​Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2008</td><td class="loop-product-cas">76261-96-6</td><td class="loop-product-button"><a href="https://www.larodan.com/product/8z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85627" data-product_sku="10-2008" aria-label="Select options for “8(Z)-​Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85628 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/9z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">9(Z)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2009</td><td class="loop-product-cas">29204-02-2</td><td class="loop-product-button"><a href="https://www.larodan.com/product/9z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85628" data-product_sku="10-2009" aria-label="Select options for “9(Z)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85629 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/11e-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">11(E)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2010</td><td class="loop-product-cas">62322-84-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/11e-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85629" data-product_sku="10-2010" aria-label="Select options for “11(E)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85653 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/2z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">2(Z)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2011</td><td class="loop-product-cas">93772-82-8</td><td class="loop-product-button"><a href="https://www.larodan.com/product/2z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85653" data-product_sku="10-2011" aria-label="Select options for “2(Z)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85654 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/2e-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">2(E)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2012</td><td class="loop-product-cas">109264-21-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/2e-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85654" data-product_sku="10-2012" aria-label="Select options for “2(E)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85656 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/14z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">14(Z)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2014</td><td class="loop-product-cas">17735-95-4</td><td class="loop-product-button"><a href="https://www.larodan.com/product/14z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85656" data-product_sku="10-2014" aria-label="Select options for “14(Z)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85657 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/5z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">5(Z)-​Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2015</td><td class="loop-product-cas">7050-07-9</td><td class="loop-product-button"><a href="https://www.larodan.com/product/5z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85657" data-product_sku="10-2015" aria-label="Select options for “5(Z)-​Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85689 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/13z-eicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">13(Z)-Eicosenoic acid</h2></a></td><td class="loop-product-sku">10-2053</td><td class="loop-product-cas">17735-94-3</td><td class="loop-product-button"><a href="https://www.larodan.com/product/13z-eicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85689" data-product_sku="10-2053" aria-label="Select options for “13(Z)-Eicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85717 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/12z-heneicosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">12(Z)-​Heneicosenoic acid</h2></a></td><td class="loop-product-sku">10-2101</td><td class="loop-product-cas">3515-84-2</td><td class="loop-product-button"><a href="https://www.larodan.com/product/12z-heneicosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85717" data-product_sku="10-2101" aria-label="Select options for “12(Z)-​Heneicosenoic acid”" rel="nofollow">Buy now</a></td></tr><tr class="product type-product post-85724 status-publish first instock product_cat-fatty-acids-fa product_cat-monounsaturated-fa product_cat-unsaturated-fa taxable shipping-taxable purchasable product-type-variable"><td class="loop-product-title"><a href="https://www.larodan.com/product/13z-docosenoic-acid/" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><h2 class="woocommerce-loop-product__title">13(Z)-Docosenoic acid</h2></a></td><td class="loop-product-sku">10-2201</td><td class="loop-product-cas">112-86-7</td><td class="loop-product-button"><a href="https://www.larodan.com/product/13z-docosenoic-acid/" data-quantity="1" class="button product_type_variable add_to_cart_button" data-product_id="85724" data-product_sku="10-2201" aria-label="Select options for “13(Z)-Docosenoic acid”" rel="nofollow">Buy now</a></td></tr> </tbody></table><nav class="woocommerce-pagination"><ul class="page-numbers"><li><span aria-current="page" class="page-numbers current">1</span></li><li><a class="page-numbers" href="https://www.larodan.com/products/category/monounsaturated-fa/page/2/">2</a></li><li><a class="next page-numbers" href="https://www.larodan.com/products/category/monounsaturated-fa/page/2/">→</a></li></ul></nav></main>
                </body>
            </html>
            """
        else:
            return "<html></html>"


class MockPageParser(IPageParser):
    def parse_page(self, page_content: str) -> BeautifulSoup:
        return BeautifulSoup(page_content, "lxml")


class MockLinkExtractor(ILinkExtractor):
    def extract_links(self, parsed_page: BeautifulSoup) -> list:
        links = parsed_page.find("a.woocommerce-loop-product__link")
        return [link["href"] for link in links]


@pytest.fixture
def lister():
    """
    Fixture to create an instance of the Lister class with mocked dependencies.

    Returns:
        Lister: An instance of the Lister class.
    """
    fetcher = MockPageFetcher()
    parser = MockPageParser()
    extractor = MockLinkExtractor()
    return Lister(
        base_url="http://example.com/products",
        fetcher=fetcher,
        parser=parser,
        extractor=extractor,
    )


def test_page_fetcher():
    """
    Tests the PageFetcher class.
    """
    fetcher = PageFetcher()
    with requests_mock.Mocker() as m:
        m.get("http://example.com/products/page/1", text="page content")
        page_content = fetcher.fetch_page("http://example.com/products/page/1")
        assert page_content == "page content"


def test_page_parser():
    """
    Tests the PageParser class.
    """
    parser = PageParser()
    page_content = """
    <html>
        <body>
            <a class="woocommerce-loop-product__link" href="http://example.com/product1">Product 1</a>
        </body>
    </html>
    """
    parsed_page = parser.parse_page(page_content)
    assert isinstance(parsed_page, BeautifulSoup)
    assert (
        parsed_page.select("a.woocommerce-loop-product__link")[0]["href"]
        == "http://example.com/product1"
    )


def test_link_extractor():
    """
    Tests the LinkExtractor class.
    """
    extractor = LinkExtractor()
    page_content = """
    <html>
        <body>
            <a class="woocommerce-loop-product__link" href="http://example.com/product1">Product 1</a>
            <a class="woocommerce-loop-product__link" href="http://example.com/product2">Product 2</a>
        </body>
    </html>
    """
    parsed_page = BeautifulSoup(page_content, "lxml")
    links_hrefs_list = extractor.extract_links(parsed_page)
    assert links_hrefs_list == [
        "http://example.com/product1",
        "http://example.com/product2",
    ]
